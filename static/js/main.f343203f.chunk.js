(window["webpackJsonpsynchro-cal-ui"]=window["webpackJsonpsynchro-cal-ui"]||[]).push([[0],{63:function(e,n,a){e.exports=a(93)},68:function(e,n,a){},69:function(e,n,a){},93:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(8),i=a.n(o),s=(a(68),a(69),a(28)),c=a(9),l=a(35),u=a.n(l),m=a(50),p=a.n(m),d=a(133),g=a(137),b=a(132),f=a(139),w=a(135),h=a(140),v=a(53),y=a.n(v),O=a(94),E=a(51),j=a(131),S=a(138),k=a(142),C=a(136),P=a(54),x=a.n(P);function D(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function N(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?D(a,!0).forEach(function(n){Object(c.a)(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}var W,L="https://somo.dev:5000/",T=Object(E.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},progress:{margin:e.spacing(0)},snackbarClose:{padding:e.spacing(.5),backgroundColor:e.palette.error.dark},paper:N({},e.mixins.gutters(),{padding:2*e.spacing(0),margin:2*e.spacing(0),justify:"center",display:"flex",flexDirection:"column",alignItems:"center"}),avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});!function(e){e[e.Login=0]="Login",e[e.SessionSelect=1]="SessionSelect"}(W||(W={}));var q={step:W.Login,waiting:!1,sessions:[]};function z(){var e=T(),n=Object(t.useState)(!1),a=Object(s.a)(n,2),o=a[0],i=a[1];function c(){i(!1)}var l=Object(t.useState)(q),m=Object(s.a)(l,2),v=m[0],E=m[1],P=v.step,D=v.waiting,z=v.sessions,A=Object(t.useState)(),B=Object(s.a)(A,2),I=B[0],J=B[1],U=Object(t.useState)(),F=Object(s.a)(U,2),G=F[0],H=F[1],V=Object(t.useState)(new Set),$=Object(s.a)(V,2),K=$[0],M=$[1],Q=function(){return M(new Set)};function R(){i(!0),E({step:P,waiting:!1,sessions:z})}return r.a.createElement("div",null,r.a.createElement(j.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(d.a,{className:e.avatar},r.a.createElement(y.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Username(maticule)",name:"email",autoComplete:"username",autoFocus:!0,onChange:function(e){return function(e){P!=W.Login&&(E(q),Q()),J(e)}(e.target.value)}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password(Unip)",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return H(e.target.value)}}),z.map(function(e,n){return r.a.createElement(w.a,{key:n,control:r.a.createElement(h.a,{checked:K.has(n),onChange:function(e){var a;(a=n,function(e){var n=new Set(K);e?n.add(a):n.delete(a),M(n)})(e.target.checked)}}),label:e})}),r.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:D,className:e.submit,onClick:function(){D||(P===W.Login?(E({step:W.SessionSelect,waiting:!0,sessions:[]}),u.a.post(L+"sessions",{username:I,password:G}).then(function(e){E({step:W.SessionSelect,waiting:!1,sessions:e.data})}).catch(R)):P===W.SessionSelect&&(E(N({},v,{waiting:!0})),u.a.post(L+"calendar",{responseType:"blob",username:I,password:G,selection:Array.from(K)},{responseType:"blob"}).then(function(e){var n=e.headers["x-suggested-filename"],a=void 0===n?"calendar.ics":n;p.a.saveAs(e.data,a)}).catch(R).finally(function(){E(N({},v,{waiting:!1}))})))}},D?r.a.createElement(S.a,{size:24,className:e.progress}):"GET")))),r.a.createElement(k.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:o,autoHideDuration:6e3,onClose:c,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"something went wrong"),action:[r.a.createElement(C.a,{key:"close","aria-label":"close",color:"inherit",className:e.snackbarClose,onClick:c},r.a.createElement(x.a,null))]}))}var A=function(){return r.a.createElement(z,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[63,1,2]]]);
//# sourceMappingURL=main.f343203f.chunk.js.map